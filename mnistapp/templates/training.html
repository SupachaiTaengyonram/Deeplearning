{% extends 'base.html' %}
{% block content %}
<section>
	<h1>Training Page</h1>
	<form
		hx-post="{% url 'mnistapp:start_training' %}"
		hx-target="#status"
		hx-swap="innerHTML"
	>
		{% csrf_token %}
		<label>Epochs <input type="number" name="epochs" value="2" min="1" /></label>
		<label>Batch Size <input type="number" name="batch_size" value="64" min="16" step="16" /></label>
		<label>LR <input type="number" name="lr" value="0.001" step="0.0001" /></label>
		<button type="submit">Start Training</button>
	</form>
	<div id="status">Idle</div>
	<!-- SSE connection: we will append <li> via OOB swaps -->
	<div hx-ext="sse" sse-connect="{% url 'mnistapp:train_stream' %}"></div>
	<h2>Live Logs</h2>
	<ul id="log" class="log"></ul>
</section>
{% endblock %}